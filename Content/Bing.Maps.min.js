function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X;a=self;b=a.WebSharper=a.WebSharper||{};c=b.Bing=b.Bing||{};d=c.Tests=c.Tests||{};e=d.Main=d.Main||{};f=b.Obj=b.Obj||{};g=b.Html=b.Html||{};h=g.Client=g.Client||{};i=h.Pagelet=h.Pagelet||{};j=h.Tags=h.Tags||{};k=b.Operators=b.Operators||{};l=a.EventTarget;m=a.Node;n=h.TagBuilder=h.TagBuilder||{};o=b.Arrays=b.Arrays||{};p=h.AttributeBuilder=h.AttributeBuilder||{};q=h.Attr=h.Attr||{};r=h.EventsPervasives=h.EventsPervasives||{};s=c.Maps=c.Maps||{};t=s.Rest=s.Rest||{};u=h.Element=h.Element||{};v=b.List=b.List||{};w=v.T=v.T||{};x=a.WindowOrWorkerGlobalScope;y=a.StartupCode$WebSharper_Html_Client$Html=a.StartupCode$WebSharper_Html_Client$Html||{};z=h.Text=h.Text||{};A=h.Operators=h.Operators||{};B=s.MapsLoading=s.MapsLoading||{};C=a.StartupCode$Bing_Maps$Client=a.StartupCode$Bing_Maps$Client||{};D=b.JavaScript=b.JavaScript||{};E=D.Pervasives=D.Pervasives||{};F=b.Strings=b.Strings||{};G=h.Implementation=h.Implementation||{};H=G.JQueryHtmlProvider=G.JQueryHtmlProvider||{};I=h.DeprecatedTagBuilder=h.DeprecatedTagBuilder||{};J=b.Collections=b.Collections||{};K=J.List=J.List||{};L=h.Attribute=h.Attribute||{};M=a.StartupCode$WebSharper_Html_Client$Events=a.StartupCode$WebSharper_Html_Client$Events||{};N=a.StartupCode$WebSharper_Bing_Maps_Rest$Rest=a.StartupCode$WebSharper_Bing_Maps_Rest$Rest||{};O=b.Unchecked=b.Unchecked||{};P=b.Seq=b.Seq||{};Q=b.Enumerator=b.Enumerator||{};R=a.Object;S=J.ListEnumerator=J.ListEnumerator||{};T=h.Events=h.Events||{};U=T.JQueryEventSupport=T.JQueryEventSupport||{};V=Q.T=Q.T||{};W=a.IntelliFactory;X=W&&W.Runtime;e.Samples=function(){var Y,Z,_0,_1,_2,_3,_4,_5;(Y=[(Z=[j.Tags().text("Basic map")],j.Tags().NewTag("h2",Z)),e.MapElement(),(_0=[j.Tags().text("Tile layer")],j.Tags().NewTag("h2",_0)),e.MapWithTileLayer(),(_1=[j.Tags().text("Map with event management (click me!)")],j.Tags().NewTag("h2",_1)),e.MouseEvent(),(_2=[j.Tags().text("Search for a location")],j.Tags().NewTag("h2",_2)),e.LocationRequest(),(_3=[j.Tags().text("Pin a latitude/longitude point")],j.Tags().NewTag("h2",_3)),e.LatLonLocationRequest(),(_4=[j.Tags().text("Static maps")],j.Tags().NewTag("h2",_4)),e.StaticMap(),(_5=[j.Tags().text("Retrieve metadata about the images")],j.Tags().NewTag("h2",_5)),e.ImageMetadata()],j.Tags().NewTag("div",Y)).AppendTo("main");};e.MapElement=function(){return e.MakeMapWrapper(function(Y){return function(Z){var _0,_1;return(_0=(_1={},_1.credentials=e.credentials(),_1),new self.Microsoft.Maps.Map(Y,_0)).setMapType(Z.MapTypeId.birdseye);};});};e.MapWithTileLayer=function(){return e.MakeMapWrapper(function(Y){return function(Z){var _0,_1,_2,_3,_4,_5,_6,_7;_0=(_1=(_2={},_2.credentials=e.credentials(),_2.mapTypeId=Z.MapTypeId.aerial,_2),new self.Microsoft.Maps.Map(Y,_1));_3=(_4=(_5={},_5.mercator=(_6=(_7={},_7.uriConstructor="https://www.microsoft.com/maps/isdk/ajax/layers/lidar/{quadkey}.png",_7),new self.Microsoft.Maps.TileSource(_6)),_5.opacity=0.7,_5),new self.Microsoft.Maps.TileLayer(_4));return _0.entities.push(_3);};});};e.MouseEvent=function(){return e.MakeMapWrapper(function(Y){return function(Z){var _0,_1,_2,_3,_4,_5,_6;_0=(_1=(_2={},_2.credentials=e.credentials(),_2),new self.Microsoft.Maps.Map(Y,_1));_3=(_4=_0.getCenter(),(_5=(_6={},_6.draggable=true,_6),new self.Microsoft.Maps.Pushpin(_4,_5)));_0.entities.push(_3);Z.Events.addHandler(_0,"click",function(_7){var _8,_9,_,$,ba,bb;_7.target.getCenter();_8=_3.getLocation();_9=_0.tryLocationToPixel(_8);_=($=_7.getX(),(ba=_7.getY(),new self.Microsoft.Maps.Point($,ba)));bb=_0.tryPixelToLocation(_);a.alert("pushpin (lat/lon): "+a.String(_8.latitude)+", "+a.String(_8.longitude)+"\npushpin (screen x/y): "+a.String(_9.x)+","+a.String(_9.y)+"\nmouse (lat/lon): "+a.String(bb.latitude)+", "+a.String(bb.longitude)+"\nmouse (screen x/y): "+a.String(_.x)+","+a.String(_.y));});};});};e.LocationRequest=function(){var Y,Z,_0,_1,_2,_3;Y=(Z=[q.Attr().NewAttr("type","text")],j.Tags().NewTag("input",Z));_0=(_1=[q.Attr().NewAttr("type","button"),q.Attr().NewAttr("value","Search")],j.Tags().NewTag("input",_1));_2=j.Tags().NewTag("div",[]);_3=[e.MakeMapWrapper(function(_4){return function(_5){var _6,_7,_8;function _9(_,$){return t.RequestLocationByQuery(e.credentials(),Y.get_Value(),function(ba){e.GeocodeCallback(_5,_6,_2,ba);});}_6=(_7=(_8={},_8.credentials=e.credentials(),_8),new self.Microsoft.Maps.Map(_4,_7));_6.setMapType(_5.MapTypeId.road);(function(_){r.Events().OnClick(function($){return function(ba){return _9($,ba);};},_);}(_0),_0);};}),j.Tags().NewTag("div",[Y,_0]),_2];return j.Tags().NewTag("div",_3);};e.LatLonLocationRequest=function(){var Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8;Y=(Z=[q.Attr().NewAttr("type","text")],j.Tags().NewTag("input",Z));_0=(_1=[q.Attr().NewAttr("type","text")],j.Tags().NewTag("input",_1));_2=(_3=[q.Attr().NewAttr("type","button"),q.Attr().NewAttr("value","Search")],j.Tags().NewTag("input",_3));_4=j.Tags().NewTag("div",[]);_5=[e.MakeMapWrapper(function(_9){return function(_){var $,ba,bb;function bc(bd,be){return t.RequestLocationByPoint(e.credentials(),a.Number(Y.get_Value()),a.Number(_0.get_Value()),w.Empty,function(bf){e.GeocodeCallback(_,$,_4,bf);});}$=(ba=(bb={},bb.credentials=e.credentials(),bb),new self.Microsoft.Maps.Map(_9,ba));$.setMapType(_.MapTypeId.road);(function(bd){r.Events().OnClick(function(be){return function(bf){return bc(be,bf);};},bd);}(_2),_2);};}),(_6=[(_7=[j.Tags().text("Latitude:")],j.Tags().NewTag("span",_7)),Y,(_8=[j.Tags().text("Longitude")],j.Tags().NewTag("span",_8)),_0,_2],j.Tags().NewTag("div",_6)),_4];return j.Tags().NewTag("div",_5);};e.StaticMap=function(){return e.MakeMapWrapper(function(Y){return function(){var Z,_0,_1,_2,_3,_4;Z=(_0={imagerySet:"Road"},_0.centerPoint=new self.Microsoft.Maps.Point(47.2,19.1),_0.zoomLevel=10,_0.pushpin=[(_1={x:47.1,y:19},_1.iconStyle=2,_1.label="P1",_1),(_2={x:47.13,y:19.17},_2.iconStyle=10,_2)],_0);Y.appendChild(t.StaticMap(e.credentials(),Z));_3=(_4={imagerySet:"Aerial"},_4.query="Washington DC",_4);Y.appendChild(t.StaticMap(e.credentials(),_3));};});};e.ImageMetadata=function(){function Y(Z,_0){var _1,_2,_3,_4,_5,_6;function _7(_9){return Z.appendChild(_9);}function _8(_9){}_1=e.CheckJsonResponse(_0);return _1==null?(_2=o.get(o.get(_0.resourceSets,0).resources,0),v.iter(function(_9){return _8(_7(_9));},v.ofArray([(_3=[(_4="Road map tile size: "+a.String(_2.imageHeight)+"x"+a.String(_2.imageWidth),j.Tags().text(_4))],j.Tags().NewTag("p",_3)).get_Body(),(_5=[(_6="Road map tile URL: "+_2.imageUrl,j.Tags().text(_6))],j.Tags().NewTag("p",_5)).get_Body()]))):void(Z.textContent="Bad metadata response: "+_1.$0);}return e.MakeMapWrapper(function(Z){return function(){var _0,_1;_0=(_1={imagerySet:"Road"},_1.mapVersion="v1",_1.centerPoint=new self.Microsoft.Maps.Point(47.2,19.1),_1);return t.RequestImageryMetadata(e.credentials(),_0,function(_2){return Y(Z,_2);});};});};e.MakeMapWrapper=function(Y){var Z,_0;function _1(_2){B.OnLoad(Y(_2.get_Body()));}Z=(_0=[q.Attr().NewAttr("style","height: 600px;")],j.Tags().NewTag("div",_0));(function(_2){A.OnAfterRender(_1,_2);}(Z));return Z;};e.credentials=function(){C.$cctor();return C.credentials;};e.GeocodeCallback=function(Y,Z,_0,_1){var _2,_3,_4,_5,_6,_7,_8;_2=e.CheckJsonResponse(_1);_2==null?(_3=o.get(o.get(_1.resourceSets,0).resources,0),e.IsUndefined(_3)?_0.set_Text("Location not found or no site around"):(_4=(_5=o.get(_3.point.coordinates,0),(_6=o.get(_3.point.coordinates,1),new self.Microsoft.Maps.Location(_5,_6))),_7=new self.Microsoft.Maps.Pushpin(_4),Z.entities.push(_7),Z.setView((_8={},_8.center=_4,_8)),_0.set_Text(_3.name))):_0.set_Text("Bad location request: "+_2.$0);};e.CheckJsonResponse=function(Y){return e.IsUndefined(Y)||e.IsUndefined(Y.resourceSets)||o.length(Y.resourceSets)===0||e.IsUndefined(o.get(Y.resourceSets,0).resources)||o.length(o.get(Y.resourceSets,0).resources)===0?{$:1,$0:a.String(Y.statusCode)+": "+F.concat(" ",Y.errorDetails)}:null;};e.IsUndefined=function(Y){return O.Equals(typeof Y,"undefined");};f=b.Obj=X.Class({Equals:function(Y){return this===Y;}},null,f);f.New=X.Ctor(function(){},f);i=h.Pagelet=X.Class({AppendTo:function(Y){self.document.getElementById(Y).appendChild(this.get_Body());this.Render();},Render:a.ignore},f,i);i.New=X.Ctor(function(){f.New.call(this);},i);j.Tags=function(){y.$cctor();return y.Tags$1;};k.FailWith=function(Y){throw new a.Error(Y);};n=h.TagBuilder=X.Class({text:function(Y){return new z.New(Y);},NewTag:function(Y,Z){var _0,_1;_0=u.New(this.HtmlProvider,Y);_1=Q.Get(Z);try{while(_1.MoveNext())_0.AppendI(_1.Current());}finally{if(typeof _1=="object"&&"Dispose"in _1)_1.Dispose();}return _0;}},f,n);n.New=X.Ctor(function(Y){f.New.call(this);this.HtmlProvider=Y;},n);o.get=function(Y,Z){o.checkBounds(Y,Z);return Y[Z];};o.checkBounds=function(Y,Z){if(Z<0||Z>=Y.length)k.FailWith("Index was outside the bounds of the array.");};o.length=function(Y){return Y.dims===2?Y.length*Y.length:Y.length;};p=h.AttributeBuilder=X.Class({NewAttr:function(Y,Z){return L.New(this.HtmlProvider,Y,Z);}},f,p);p.New=X.Ctor(function(Y){f.New.call(this);this.HtmlProvider=Y;},p);q.Attr=function(){y.$cctor();return y.Attr$1;};r.Events=function(){M.$cctor();return M.Events;};t.RequestLocationByQuery=function(Y,Z,_0){self[t.RequestCallbackName()]=_0;t.SendRequest(t.restApiUri()+"Locations?query="+Z+"&"+t.RequestStringBoilerplate(Y));};t.RequestLocationByPoint=function(Y,Z,_0,_1,_2){self[t.RequestCallbackName()]=_2;t.SendRequest(t.restApiUri()+"Locations/"+a.String(Z)+","+a.String(_0)+"?"+t.RequestStringBoilerplate(Y)+(_1.$==0?"":"&includeEntityTypes="+F.concat(",",_1)));};t.StaticMap=function(Y,Z){var _0;_0=self.document.createElement("img");_0.setAttribute("src",t.StaticMapUrl(Y,Z));return _0;};t.RequestImageryMetadata=function(Y,Z,_0){var _1,_2;self[t.RequestCallbackName()]=_0;_1=F.concat("&",t.OptionalFields(Z,["include","mapVersion","orientation","zoomLevel"]));t.SendRequest(t.restApiUri()+"Imagery/Metadata/"+a.String(Z.imagerySet)+(!t.IsUndefined(Z.centerPoint)?"/"+(_2=Z.centerPoint,_2.x+","+_2.y):"")+"?"+_1+"&"+t.RequestStringBoilerplate(Y));};t.RequestCallbackName=function(){N.$cctor();return N.RequestCallbackName;};t.SendRequest=function(Y){var Z;Z=self.document.createElement("script");Z.setAttribute("type","text/javascript");Z.setAttribute("src",Y);self.document.documentElement.appendChild(Z);};t.restApiUri=function(){N.$cctor();return N.restApiUri;};t.RequestStringBoilerplate=function(Y){return"output=json&jsonp="+t.RequestCallbackName()+"&key="+Y;};t.StaticMapUrl=function(Y,Z){var _0,_1,_2,_3,_4;_0=v.ofSeq(P.delay(function(){return P.append(t.OptionalFields(Z,["avoid","dateTime","mapLayer","mapVersion","maxSolutions","optimize","timeType","travelMode","zoomLevel"]),P.delay(function(){var _5,_6;return P.append(!t.IsUndefined(Z.mapArea)?[(_5=Z.mapArea[0],_5.x+","+_5.y)+","+(_6=Z.mapArea[1],_6.x+","+_6.y)]:[],P.delay(function(){return P.append(!t.IsUndefined(Z.mapSize)?[a.String(Z.mapSize[0])+","+a.String(Z.mapSize[1])]:[],P.delay(function(){function _7(_8){return a.String(_8.x)+","+a.String(_8.y)+";"+(t.IsUndefined(_8.iconStyle)?"":a.String(_8.iconStyle))+";"+(t.IsUndefined(_8.label)?"":_8.label);}return P.append(!t.IsUndefined(Z.pushpin)?o.map(function(_8){return"pp="+_7(_8);},Z.pushpin):[],P.delay(function(){return P.append(!t.IsUndefined(Z.waypoints)?t.StringifyWaypoints(Z.waypoints):[],P.delay(function(){return P.append(!t.IsUndefined(Z.declutterPins)?["dcl="+(Z.declutterPins?"1":"0")]:[],P.delay(function(){return!t.IsUndefined(Z.distanceBeforeFirstTurn)?["dbft="+a.String(Z.distanceBeforeFirstTurn)]:[];}));}));}));}));}));}));}));_1=!t.IsUndefined(Z.query)?Z.query:!t.IsUndefined(Z.centerPoint)?(_2=Z.centerPoint,_2.x+","+_2.y)+"/"+a.String(Z.zoomLevel):"";_3=!t.IsUndefined(Z.waypoints);_4=F.concat("&",_0);return t.restApiUri()+"Imagery/Map/"+a.String(Z.imagerySet)+"/"+(_3?"Route/":"")+_1+"?"+_4+"&key="+Y;};t.IsUndefined=function(Y){return O.Equals(typeof Y,"undefined");};t.OptionalFields=function(Y,Z){return o.choose(function(_0){var _1;_1=Y[_0];return t.IsUndefined(_1)?null:{$:1,$0:_0+"="+a.String(_1)};},Z);};t.StringifyWaypoints=function(Y){return o.mapi(function(Z,_0){return"wp."+a.String(Z)+"="+a.String(_0);},Y);};u=h.Element=X.Class({get_Value:function(){return this.HtmlProvider.GetValue(this.get_Body());},set_Text:function(Y){this.HtmlProvider.SetText(this.get_Body(),Y);},get_Body:function(){return this.Dom;},Render:function(){if(!this.IsRendered){this.RenderInternal();this.IsRendered=true;}},AppendI:function(Y){var Z,_0;Z=Y.get_Body();Z.nodeType===2?this.HtmlProvider.AppendAttribute(this.get_Body(),Z):this.HtmlProvider.AppendNode(this.get_Body(),Y.get_Body());this.IsRendered?Y.Render():(_0=this.RenderInternal,this.RenderInternal=function(){_0();Y.Render();});}},i,u);u.New=function(Y,Z){var _0,_1;_0=new u.New$1(Y);_1=self.document.createElement(Z);_0.RenderInternal=a.ignore;_0.Dom=_1;_0.IsRendered=false;return _0;};u.New$1=X.Ctor(function(Y){i.New.call(this);this.HtmlProvider=Y;},u);w=v.T=X.Class({GetEnumerator:function(){return new V.New(this,null,function(Y){var Z;Z=Y.s;return Z.$==0?false:(Y.c=Z.$0,Y.s=Z.$1,true);},void 0);}},null,w);w.Empty=new w({$:0});v.iter=function(Y,Z){var _0;_0=Z;while(_0.$==1){Y(v.head(_0));_0=v.tail(_0);}};v.ofArray=function(Y){var Z,_0,_1;Z=w.Empty;for(_0=o.length(Y)-1,_1=0;_0>=_1;_0--)Z=new w({$:1,$0:o.get(Y,_0),$1:Z});return Z;};v.head=function(Y){return Y.$==1?Y.$0:v.listEmpty();};v.tail=function(Y){return Y.$==1?Y.$1:v.listEmpty();};v.ofSeq=function(Y){var Z,_0,_1,_2,_3,_4;if(Y instanceof w)return Y;else if(Y instanceof a.Array)return v.ofArray(Y);else{Z=Q.Get(Y);try{_1=Z.MoveNext();if(!_1)_0=w.Empty;else{_3=new w({$:1});_2=_3;while(_1){_2.$0=Z.Current();Z.MoveNext()?_2=(_4=new w({$:1}),_2.$1=_4,_4):_1=false;}_2.$1=w.Empty;_0=_3;}return _0;}finally{if(typeof Z=="object"&&"Dispose"in Z)Z.Dispose();}}};v.listEmpty=function(){return k.FailWith("The input list was empty.");};y.$cctor=function(){y.$cctor=a.ignore;y.HtmlProvider=new H.New();y.Attr=new p.New(G.HtmlProvider());y.Tags=new n.New(G.HtmlProvider());y.DeprecatedHtml=new I.New(G.HtmlProvider());y.Tags$1=G.Tags();y.Deprecated=G.DeprecatedHtml();y.Attr$1=G.Attr();};z=h.Text=X.Class({get_Body:function(){return self.document.createTextNode(this.text);}},i,z);z.New=X.Ctor(function(Y){i.New.call(this);this.text=Y;},z);A.OnAfterRender=function(Y,Z){var _0;_0=Z.Render;Z.Render=function(){_0.apply(Z);Y(Z);};};B.OnLoad=function(Y){B.cbs().push(Y);self.Microsoft.Maps.MapTypeId?B.Loaded():self.WebSharperBingMapsLoaded=function(){B.Loaded();};};B.cbs=function(){N.$cctor();return N.cbs;};B.Loaded=function(){var Y,Z,_0;Y=new S.New(B.cbs());try{while(Y.MoveNext$1())(Y.get_Current())(self.Microsoft.Maps);}finally{Y.Dispose();}Z=B.cbs();_0=o.length(Z);Z.splice.apply(Z,[0,_0]);};C.$cctor=function(){C.$cctor=a.ignore;C.credentials="Ai6uQaKEyZbUvd33y5HU41hvoov_piUMn6t78Qzg7L1DWY4MFZqhjZdgEmCpQlbe";};E.NewFromSeq=function(Y){var Z,_0,_1;Z={};_0=Q.Get(Y);try{while(_0.MoveNext()){_1=_0.Current();Z[_1[0]]=_1[1];}}finally{if(typeof _0=="object"&&"Dispose"in _0)_0.Dispose();}return Z;};F.concat=function(Y,Z){return o.ofSeq(Z).join(Y);};H=G.JQueryHtmlProvider=X.Class({GetValue:function(Y){return a.jQuery(Y).val();},SetText:function(Y,Z){Y.textContent=Z;},AppendAttribute:function(Y,Z){this.SetAttribute(Y,Z.nodeName,Z.value);},AppendNode:function(Y,Z){var _0,_1;_0=a.jQuery(Y);_1=a.jQuery(Z);_0.append.apply(_0,[_1]);},SetAttribute:function(Y,Z,_0){a.jQuery(Y).attr(Z,_0);},CreateAttribute:function(Y){return self.document.createAttribute(Y);}},f,H);H.New=X.Ctor(function(){f.New.call(this);},H);G.HtmlProvider=function(){y.$cctor();return y.HtmlProvider;};G.Tags=function(){y.$cctor();return y.Tags;};G.DeprecatedHtml=function(){y.$cctor();return y.DeprecatedHtml;};G.Attr=function(){y.$cctor();return y.Attr;};I=h.DeprecatedTagBuilder=X.Class({},f,I);I.New=X.Ctor(function(Y){f.New.call(this);this.HtmlProvider=Y;},I);K=J.List=X.Class({GetEnumerator:function(){return Q.Get(this);}},null,K);L=h.Attribute=X.Class({get_Body:function(){var Y;Y=this.HtmlProvider.CreateAttribute(this.Name);Y.value=this.Value;return Y;}},i,L);L.New=function(Y,Z,_0){var _1;_1=new L.New$1(Y);_1.Name=Z;_1.Value=_0;return _1;};L.New$1=X.Ctor(function(Y){i.New.call(this);this.HtmlProvider=Y;},L);M.$cctor=function(){M.$cctor=a.ignore;M.Events=new U.New();};N.$cctor=function(){N.$cctor=a.ignore;N.cbs=[];N.restApiUri="https://dev.virtualearth.net/REST/v1/";N.RequestCallbackName="BingOnReceive";};O.Equals=function(Y,Z){var _0,_1,_2,_3;if(Y===Z)return true;else{_0=typeof Y;if(_0=="object"){if(Y===null||Y===void 0||Z===null||Z===void 0)return false;else if("Equals"in Y)return Y.Equals(Z);else if(Y instanceof a.Array&&Z instanceof a.Array)return O.arrayEquals(Y,Z);else if(Y instanceof a.Date&&Z instanceof a.Date)return O.dateEquals(Y,Z);else{_1=[true];for(var _4 in Y)if(function(_5){_1[0]=!Y.hasOwnProperty(_5)||Z.hasOwnProperty(_5)&&O.Equals(Y[_5],Z[_5]);return!_1[0];}(_4))break;if(_1[0]){for(var _5 in Z)if(function(_6){_1[0]=!Z.hasOwnProperty(_6)||Y.hasOwnProperty(_6);return!_1[0];}(_5))break;}return _1[0];}}else return _0=="function"&&("$Func"in Y?Y.$Func===Z.$Func&&Y.$Target===Z.$Target:"$Invokes"in Y&&"$Invokes"in Z&&O.arrayEquals(Y.$Invokes,Z.$Invokes));}};O.arrayEquals=function(Y,Z){var _0,_1;if(o.length(Y)===o.length(Z)){_0=true;_1=0;while(_0&&_1<o.length(Y)){!O.Equals(o.get(Y,_1),o.get(Z,_1))?_0=false:void 0;_1=_1+1;}return _0;}else return false;};O.dateEquals=function(Y,Z){return Y.getTime()===Z.getTime();};P.delay=function(Y){return{GetEnumerator:function(){return Q.Get(Y());}};};P.append=function(Y,Z){return{GetEnumerator:function(){var _0,_1;_0=Q.Get(Y);_1=[true];return new V.New(_0,null,function(_2){var _3;return _2.s.MoveNext()?(_2.c=_2.s.Current(),true):(_3=_2.s,!O.Equals(_3,null)?_3.Dispose():void 0,_2.s=null,_1[0]&&(_1[0]=false,_2.s=Q.Get(Z),_2.s.MoveNext()?(_2.c=_2.s.Current(),true):(_2.s.Dispose(),_2.s=null,false)));},function(_2){var _3;_3=_2.s;!O.Equals(_3,null)?_3.Dispose():void 0;});}};};o.map=function(Y,Z){var _0,_1,_2;_0=new a.Array(Z.length);for(_1=0,_2=Z.length-1;_1<=_2;_1++)_0[_1]=Y(Z[_1]);return _0;};o.choose=function(Y,Z){var _0,_1,_2,_3;_0=[];for(_1=0,_2=Z.length-1;_1<=_2;_1++){_3=Y(Z[_1]);_3==null?void 0:_0.push(_3.$0);}return _0;};o.ofSeq=function(Y){var Z,_0;if(Y instanceof a.Array)return Y.slice();else if(Y instanceof w)return o.ofList(Y);else{Z=[];_0=Q.Get(Y);try{while(_0.MoveNext())Z.push(_0.Current());return Z;}finally{if(typeof _0=="object"&&"Dispose"in _0)_0.Dispose();}}};o.mapi=function(Y,Z){var _0,_1,_2;_0=new a.Array(Z.length);for(_1=0,_2=Z.length-1;_1<=_2;_1++)_0[_1]=Y(_1,Z[_1]);return _0;};o.ofList=function(Y){var Z,_0;_0=[];Z=Y;while(!(Z.$==0)){_0.push(v.head(Z));Z=v.tail(Z);}return _0;};Q.Get=function(Y){return Y instanceof a.Array?Q.ArrayEnumerator(Y):O.Equals(typeof Y,"string")?Q.StringEnumerator(Y):Y.GetEnumerator();};Q.ArrayEnumerator=function(Y){return new V.New(0,null,function(Z){var _0;_0=Z.s;return _0<o.length(Y)&&(Z.c=o.get(Y,_0),Z.s=_0+1,true);},void 0);};Q.StringEnumerator=function(Y){return new V.New(0,null,function(Z){var _0;_0=Z.s;return _0<Y.length&&(Z.c=Y[_0],Z.s=_0+1,true);},void 0);};S=J.ListEnumerator=X.Class({MoveNext$1:function(){this.i=this.i+1;return this.i<o.length(this.arr);},get_Current:function(){return o.get(this.arr,this.i);},MoveNext:function(){return this.MoveNext$1();},Current:function(){return o.get(this.arr,this.i);},Dispose:a.ignore},f,S);S.New=X.Ctor(function(Y){f.New.call(this);this.arr=Y;this.i=-1;},S);U=T.JQueryEventSupport=X.Class({OnMouse:function(Y,Z,_0){a.jQuery(_0.get_Body()).on(Y,function(_1){return Z(_0,{X:_1.pageX,Y:_1.pageY,Event:_1});});},OnClick:function(Y,Z){this.OnMouse("click",function(_0,_1){return(Y(_0))(_1);},Z);}},f,U);U.New=X.Ctor(function(){f.New.call(this);},U);V=Q.T=X.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},f,V);V.New=X.Ctor(function(Y,Z,_0,_1){f.New.call(this);this.s=Y;this.c=Z;this.n=_0;this.d=_1;},V);X.OnLoad(function(){e.Samples();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
